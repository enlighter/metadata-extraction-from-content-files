<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CSS selectors</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="CSS selectors"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec16"/>CSS selectors</h1></div></div></div><p>The jQuery library supports nearly all the <a id="id87" class="indexterm"/>selectors included in CSS specifications 1 through <a id="id88" class="indexterm"/>3, as outlined on the World Wide Web Consortium's site: <a class="ulink" href="http://www.w3.org/Style/CSS/specs">http://www.w3.org/Style/CSS/specs</a>. This support allows developers to enhance their websites without worrying about which browsers might not understand more advanced selectors, as long as the browsers have JavaScript enabled.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>
<span class="strong"><strong>Progressive Enhancement</strong></span>
</p><p>Responsible jQuery developers should always apply the concepts of progressive enhancement and graceful degradation to their code, ensuring that a page will render as accurately, even if not as beautifully, with JavaScript disabled as it does with JavaScript turned on. We will continue to explore these concepts throughout the book. More information <a id="id89" class="indexterm"/>on progressive enhancement can be found at <a class="ulink" href="http://en.wikipedia.org/wiki/Progressive_enhancement">http://en.wikipedia.org/wiki/Progressive_enhancement</a>.</p></div></div><p>To begin learning how jQuery works with CSS selectors, we'll use a structure that appears on many websites, often for navigation &#x2013; the nested unordered list:</p><div class="informalexample"><pre class="programlisting">&lt;ul id="selected-plays"&gt;
  &lt;li&gt;Comedies
    &lt;ul&gt;
      &lt;li&gt;&lt;a href="/asyoulikeit/"&gt;As You Like It&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;All's Well That Ends Well&lt;/li&gt;
      &lt;li&gt;A Midsummer Night's Dream&lt;/li&gt;
      &lt;li&gt;Twelfth Night&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Tragedies
    &lt;ul&gt;
      &lt;li&gt;&lt;a href="hamlet.pdf"&gt;Hamlet&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Macbeth&lt;/li&gt;
      &lt;li&gt;Romeo and Juliet&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Histories
    &lt;ul&gt;
      &lt;li&gt;Henry IV (&lt;a href="mailto:henryiv@king.co.uk"&gt;email&lt;/a&gt;)
         &lt;ul&gt;
           &lt;li&gt;Part I&lt;/li&gt;
           &lt;li&gt;Part II&lt;/li&gt; 
         &lt;/ul&gt;
      &lt;li&gt;&lt;a href="http://www.shakespeare.co.uk/henryv.htm"&gt;
                                                   Henry V&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Richard II&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>
<span class="strong"><strong>Downloadable code examples</strong></span>
</p><p>As with many of the HTML, <a id="id90" class="indexterm"/>CSS, and JavaScript examples in this book, the previous markup is merely a fragment of the complete document. To experiment with the examples, we can download them from the Packt Publishing website at <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a>. In addition, the examples can be viewed in an interactive browser at <a class="ulink" href="http://book.learningjquery.com/">http://book.learningjquery.com/</a>.</p></div></div><p>Notice that the first <code class="literal">&lt;ul&gt;</code> has an <a id="id91" class="indexterm"/>ID of <code class="literal">selecting-plays</code>, but none of the <code class="literal">&lt;li&gt;</code> tags have a class associated with them. Without any styles applied, the list looks like this:</p><div class="mediaobject"><img src="graphics/3145OS_02_02.jpg" alt="CSS selectors"/></div><p>The nested list appears as we would <a id="id92" class="indexterm"/>expect it to&#x2014;a set of bulleted items arranged vertically and indented according to their level.</p><div class="section" title="Styling list-item levels"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec12"/>Styling list-item levels</h2></div></div></div><p>Let's suppose that <a id="id93" class="indexterm"/>we want the top-level items, and only the top-level items&#x2014;<span class="strong"><strong>Comedies</strong></span>, <span class="strong"><strong>Tragedies</strong></span>, and <span class="strong"><strong>Histories</strong></span>&#x2014;to be arranged horizontally. We can start by <a id="id94" class="indexterm"/>defining a <code class="literal">horizontal</code> class in the stylesheet:</p><div class="informalexample"><pre class="programlisting">.horizontal {
  float: left;
  list-style: none;
  margin: 10px;
}</pre></div><p>The <code class="literal">horizontal</code> class floats the element to the left-hand side of the one following it, removes the bullet from it if it's a list item, and adds a 10-pixel margin on all sides of it.</p><p>Rather than attaching the <code class="literal">horizontal</code> class directly in our HTML, we'll add it dynamically to the top-level list items only, to demonstrate jQuery's use of selectors:</p><div class="informalexample"><pre class="programlisting">$(document).ready(function() {
  $('#selected-plays &gt; li').addClass('horizontal');
});</pre></div><p>
<span class="emphasis"><em>Listing 2.1</em></span>
</p><p>As discussed in <a class="link" href="ch01.html" title="Chapter&#xA0;1.&#xA0;Getting Started">Chapter 1</a>, <span class="emphasis"><em>Getting Started</em></span>, we begin the jQuery code by calling <code class="literal">$(document).ready()</code>, which runs the <a id="id95" class="indexterm"/>function passed to it once the DOM has been loaded, but not before.</p><p>The second line uses the child combinator (<code class="literal">&gt;</code>) to add the <code class="literal">horizontal</code> class to all the top-level items only. In effect, the selector inside the <code class="literal">$()</code> function is saying, "Find each list item (<code class="literal">li</code>) that is a child (<code class="literal">&gt;</code>) of the element with an ID of selected-plays (<code class="literal">#selected-plays</code>)"</p><p>With the class now applied, <a id="id96" class="indexterm"/>the rules defined for that class in the stylesheet take effect, which in this case means that the list items are arranged horizontally rather than vertically. Now our nested list looks like this:</p><div class="mediaobject"><img src="graphics/3145OS_02_03.jpg" alt="Styling list-item levels"/></div><p>Styling all the other items&#x2014;those that are not in the top level&#x2014;can be done in a number of ways. Since we have already applied the <code class="literal">horizontal</code> class to the top-level items, one way to select all sub-level items is to use a negation pseudo-class to identify all list items that do not have a class of <code class="literal">horizontal</code>. Note the addition of the third line of code:</p><div class="informalexample"><pre class="programlisting">$(document).ready(function() {
  $('#selected-plays &gt; li').addClass('horizontal');
<span class="strong"><strong>  $('#selected-plays li:not(.horizontal)').addClass('sub-level');li:not(.horizontal)').addClass('sub-level');</strong></span>
});</pre></div><p>
<span class="emphasis"><em>Listing 2.2</em></span>
</p><p>This time we are selecting every list item (<code class="literal">&lt;li&gt;</code>) that:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Is a descendant of the element with an ID of <code class="literal">selected-plays</code>(<code class="literal">#selected-plays</code>)</li><li class="listitem" style="list-style-type: disc">Does not have a class of <code class="literal">horizontal </code>(<code class="literal">:not(.horizontal)</code>)</li></ul></div><p>When we add the <code class="literal">sub-level</code> class to these items, they receive the shaded background defined in the stylesheet:</p><div class="informalexample"><pre class="programlisting">.sub-level {
  background: #ccc;
}</pre></div><p>Now the nested list looks like this:</p><div class="mediaobject"><img src="graphics/3145OS_02_04.jpg" alt="Styling list-item levels"/></div></div></div></body></html>
