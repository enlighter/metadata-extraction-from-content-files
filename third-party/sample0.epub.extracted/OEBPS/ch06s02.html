<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Choosing a data format</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Choosing a data format"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec46"/>Choosing a data format</h1></div></div></div><p>We have looked at four <a id="id482" class="indexterm"/>formats for our external data, each of which is handled by jQuery's Ajax functions. We have also verified that all four can handle the task at hand, loading information onto an existing page when the user requests it and not before. How, then, do we decide which one to use in our applications?</p><p>
<span class="emphasis"><em>HTML snippets</em></span> require very little work to implement. The external data can be loaded and inserted into the page with one simple method that does not even require a callback function. No traversal of the data is necessary for the straightforward task of adding the new HTML into the existing page. On the other hand, the data is not necessarily structured in a way that makes it reusable for other applications. The external file is tightly coupled with its intended container.</p><p>
<span class="emphasis"><em>JSON files</em></span> are structured for simple reuse. They are compact and easy to read. The data structure must be traversed to pull out the information and present it on the page, but this can be done with standard JavaScript techniques. Since modern browsers parse the files natively with a single call to <code class="literal">JSON.parse()</code>, reading in a JSON file is extremely fast. Errors in the JSON file can cause silent failure or even side effects on the page, so the data must be crafted carefully by a trusted party.</p><p>
<span class="emphasis"><em>JavaScript files</em></span> offer the ultimate in flexibility, but are not really a data storage mechanism. Since the files are language-specific, they cannot be used to provide the same information to disparate systems. Instead, the ability to load a JavaScript file means that behaviors that are rarely needed can be factored out into external files, reducing code size unless and until it is needed.</p><p>While <span class="emphasis"><em>XML</em></span> has fallen out of favor in the JavaScript community, with most developers preferring JSON, it is still so common that providing data in this format makes it very likely that the data can be reused elsewhere. Indeed, many web <a id="id483" class="indexterm"/>services, such as Yahoo Weather (<a class="ulink" href="http://developer.yahoo.com/weather/">http://developer.yahoo.com/weather/</a>), export XML representations of their data, which has allowed many interesting mashups of their data to arise. The XML format is somewhat bulky, and can be a bit slower to parse and manipulate than other options.</p><p>With these characteristics in <a id="id484" class="indexterm"/>mind, it is typically easiest to provide external data as HTML snippets, as long as the data is not needed in other applications as well. In cases where the data will be reused but the other applications can also be influenced, JSON is often a good choice due to its performance and size. When the remote application is not known, XML may provide the greatest assurance that interoperability will be possible.</p><p>More than any other consideration, we should determine if the data is already available. If it is, chances are that it's in one of these formats to begin with, so the decision may be made for us.</p></div></body></html>
