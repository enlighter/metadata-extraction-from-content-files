<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Custom selectors</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Custom selectors"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec18"/>Custom selectors</h1></div></div></div><p>To the wide variety of CSS selectors, <a id="id110" class="indexterm"/>jQuery adds its own custom selectors. These custom selectors enhance the already impressive capabilities of CSS selectors to locate page elements in new ways.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>
<span class="strong"><strong>Performance note</strong></span>
</p><p>When possible, jQuery uses the native DOM selector engine of the browser to find elements. This extremely fast approach is not possible when custom jQuery selectors are used. For this reason, it is recommended to avoid frequent use of custom selectors when a native option is available and performance is very important.</p></div></div><p>Most of the custom selectors allow us to choose one or more elements from a collection of elements that we have already found. The custom selector syntax is the same as the CSS pseudo-class syntax, where the selector starts with a colon (<code class="literal">:</code>). For example, to select the second item from a set of <code class="literal">&lt;div&gt;</code> elements with a class of <code class="literal">horizontal</code>, we write this:</p><div class="informalexample"><pre class="programlisting">$('div.horizontal:eq(1)')</pre></div><p>Note that <code class="literal">:eq(1)</code> selects the second item in the set because JavaScript array numbering is zero-based, meaning that it starts with zero. In contrast, CSS is one-based, so a CSS selector such as <code class="literal">$('div:nth-child(1)')</code> would select all <code class="literal">div</code> selectors that are the first child of their parent. Because it can be difficult to remember which selectors are zero-based and which are one-based, <a id="id111" class="indexterm"/>we should consult the jQuery API documentation at <a class="ulink" href="http://api.jquery.com/category/selectors/">http://api.jquery.com/category/selectors/</a> when in doubt.</p><div class="section" title="Styling alternate rows"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec14"/>Styling alternate rows</h2></div></div></div><p>Two very useful custom <a id="id112" class="indexterm"/>selectors in the jQuery library are <code class="literal">:odd</code> and <code class="literal">:even</code>. Let's take a look at how we can use one of them for basic table striping given the following tables:</p><div class="informalexample"><pre class="programlisting">&lt;h2&gt;Shakespeare's Plays&lt;/h2&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;As You Like It&lt;/td&gt;
    &lt;td&gt;Comedy&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;All's Well that Ends Well&lt;/td&gt;
    &lt;td&gt;Comedy&lt;/td&gt;
    &lt;td&gt;1601&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Hamlet&lt;/td&gt;
    &lt;td&gt;Tragedy&lt;/td&gt;
    &lt;td&gt;1604&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Macbeth&lt;/td&gt;
    &lt;td&gt;Tragedy&lt;/td&gt;
    &lt;td&gt;1606&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Romeo and Juliet&lt;/td&gt;
    &lt;td&gt;Tragedy&lt;/td&gt;
    &lt;td&gt;1595&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Henry IV, Part I&lt;/td&gt;
    &lt;td&gt;History&lt;/td&gt;
    &lt;td&gt;1596&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Henry V&lt;/td&gt;
    &lt;td&gt;History&lt;/td&gt;
    &lt;td&gt;1599&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;h2&gt;Shakespeare's Sonnets&lt;/h2&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;The Fair Youth&lt;/td&gt;
    &lt;td&gt;1&#x2013;126&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;The Dark Lady&lt;/td&gt;
    &lt;td&gt;127&#x2013;152&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;The Rival Poet&lt;/td&gt;
    &lt;td&gt;78&#x2013;86&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;</pre></div><p>With minimal styles applied from our stylesheet, these headings and tables appear quite plain. The table has a solid white <a id="id113" class="indexterm"/>background, with no styling separating one row from the next, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3145OS_02_08.jpg" alt="Styling alternate rows"/></div><p>Now we can add a style to the stylesheet for all the table rows and use an <code class="literal">alt</code> class for the odd rows:</p><div class="informalexample"><pre class="programlisting">tr {
  background-color: #fff; 
}
.alt {
  background-color: #ccc; 
}</pre></div><p>Finally, we write our jQuery code, attaching the class to the odd-numbered table rows (<code class="literal">&lt;tr&gt;</code> tags):</p><div class="informalexample"><pre class="programlisting">$(document).ready(function() {
  $('tr:even').addClass('alt');
});</pre></div><p>
<span class="emphasis"><em>Listing 2.6</em></span>
</p><p>But wait! Why use the <code class="literal">:even</code> selector for odd-numbered rows? Well, just as with the <code class="literal">:eq()</code> selector, the <code class="literal">:even</code> and <code class="literal">:odd</code> selectors use JavaScript's native zero-based numbering. Therefore, the first <a id="id114" class="indexterm"/>row counts as zero (even) and the second row counts as one (odd), and so on. With this in mind, we can expect our simple bit of code to produce tables that look like this:</p><div class="mediaobject"><img src="graphics/3145OS_02_09.jpg" alt="Styling alternate rows"/></div><p>Note that for the second table, this result may not be what we intend. Since the last row in the <span class="strong"><strong>Plays</strong></span> table has the alternate gray background, the first row in the <span class="strong"><strong>Sonnets</strong></span> table has the plain white background. One way to avoid this type of problem is to use the <code class="literal">:nth-child()</code> selector instead, which counts an element's position relative to its parent element rather than relative to all the elements selected so far. This selector can take a number, <code class="literal">odd</code>, or <code class="literal">even</code> as its argument</p><div class="informalexample"><pre class="programlisting">$(document).ready(function() {
  $('tr:nth-child(odd)').addClass('alt');
});</pre></div><p>
<span class="emphasis"><em>Listing 2.7</em></span>
</p><p>As before, note that <code class="literal">:nth-child()</code> is the only jQuery selector that is one-based. To achieve the same row striping as we did earlier&#x2014;except with consistent behavior for the second table&#x2014;we need to use <a id="id115" class="indexterm"/>
<code class="literal">odd</code> rather than <code class="literal">even</code> as the argument. With this selector in place, both tables are now striped nicely, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/3145OS_02_10.jpg" alt="Styling alternate rows"/></div></div><div class="section" title="Finding elements based on textual content"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec15"/>Finding elements based on textual content</h2></div></div></div><p>For one final custom-selector <a id="id116" class="indexterm"/>touch, let's suppose for some reason we want to highlight any table cell that referred to one of the <span class="strong"><strong>Henry</strong></span> plays. <a id="id117" class="indexterm"/>All we have to do&#x2014;after adding a class to the stylesheet to make the text bold and italicized ( <code class="literal">.highlight {font-weight:bold; font-style: italic;} </code>)&#x2014;is add a line to our jQuery code using the <code class="literal">:contains()</code> selector:</p><div class="informalexample"><pre class="programlisting">$(document).ready(function() {
  $('tr:nth-child(odd)').addClass('alt');
<span class="strong"><strong>  $('td:contains(Henry)').addClass('highlight');</strong></span>
});</pre></div><p>
<span class="emphasis"><em>Listing 2.8</em></span>
</p><p>So, now we can see our lovely <a id="id118" class="indexterm"/>striped table with the <span class="strong"><strong>Henry</strong></span> plays prominently featured:</p><div class="mediaobject"><img src="graphics/3145OS_02_11.jpg" alt="Finding elements based on textual content"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>It's important to note that the <code class="literal">:contains()</code> selector is case sensitive. Using <code class="literal">$('td:contains(henry)')</code> instead, without the uppercase "H", would select no cells.</p></div></div><p>Admittedly, there are ways to achieve the row striping and text highlighting without jQuery&#x2014;or any client-side programming, for that matter. Nevertheless, jQuery, along with CSS, is a great alternative for this <a id="id119" class="indexterm"/>
<a id="id120" class="indexterm"/>type of styling in cases where the content is generated dynamically and we don't have access to either the HTML or server-side code.</p></div><div class="section" title="Form selectors"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec16"/>Form selectors</h2></div></div></div><p>The capabilities of custom selectors are not limited to locating elements based on their position. For example, when working <a id="id121" class="indexterm"/>with forms, jQuery's custom selectors and complementary CSS3 selectors can make short work of selecting just the elements we need. The following table describes a handful of these form selectors:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Selector</p>
</th><th style="text-align: left" valign="bottom">
<p>Match</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">:input</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Input, <a id="id122" class="indexterm"/>
<a id="id123" class="indexterm"/>text area, select, and button elements</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">:button</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Button <a id="id124" class="indexterm"/>
<a id="id125" class="indexterm"/>elements and input elements with a <code class="literal">type</code> attribute equal to <code class="literal">button</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">:enabled</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Form <a id="id126" class="indexterm"/>
<a id="id127" class="indexterm"/>elements that are enabled</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">:disabled</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Form <a id="id128" class="indexterm"/>
<a id="id129" class="indexterm"/>elements that are disabled</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">:checked</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Radio buttons or <a id="id130" class="indexterm"/>
<a id="id131" class="indexterm"/>checkboxes that are checked</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">:selected</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Option <a id="id132" class="indexterm"/>
<a id="id133" class="indexterm"/>elements that are selected</p>
</td></tr></tbody></table></div><p>As with the other selectors, form selectors can be combined for greater specificity. We can, for example, select all checked radio buttons (but not checkboxes) with <code class="literal">$('input[type="radio"]:checked')</code> or select all password inputs and disabled text inputs with <code class="literal">$('input[type="password"], input[type="text"]:disabled')</code>. Even with custom selectors, we can use the same basic principles of CSS to build the list of matched elements.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>We have only scratched the surface of available selector expressions here. We will dive further into the topic in <a class="link" href="ch09.html" title="Chapter&#xA0;9.&#xA0;Advanced Selectors and Traversing">Chapter 9</a>, <span class="emphasis"><em>Advanced Selectors and Traversing</em></span>.</p></div></div></div></div></body></html>
