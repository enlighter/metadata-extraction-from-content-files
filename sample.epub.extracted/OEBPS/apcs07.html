<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Deferred objects</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Deferred objects"><div class="titlepage"><div><div><h1 class="title"><a id="ch13lvl1sec125"/>Deferred objects</h1></div></div></div><p>Deferred objects and their promises allow us to react to the completion of long-running tasks with a convenient syntax. They are discussed in detail in <a class="link" href="ch11.html" title="Chapter&#xA0;11.&#xA0;Advanced Effects">Chapter 11</a>, <span class="emphasis"><em>Advanced Effects</em></span>.</p><div class="section" title="Object creation"><div class="titlepage"><div><div><h2 class="title"><a id="ch13lvl2sec195"/>Object creation</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Function</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">$.Deferred([setupFunction])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns <a id="id1507" class="indexterm"/>a <a id="id1508" class="indexterm"/>new deferred object.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">$.when(deferreds)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns a <a id="id1509" class="indexterm"/>promise object to be resolved when the given deferred objects are resolved.</p>
</td></tr></tbody></table></div></div><div class="section" title="Methods of deferred objects"><div class="titlepage"><div><div><h2 class="title"><a id="ch13lvl2sec196"/>Methods of deferred objects</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Method</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.resolve([args])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the <a id="id1510" class="indexterm"/>state of the object to <a id="id1511" class="indexterm"/>resolved.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.resolveWith(context, [args])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the state of the <a id="id1512" class="indexterm"/>object to resolved while making the keyword <code class="literal">this</code> refer to <code class="literal">context</code> within callbacks.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.reject([args])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the state of the <a id="id1513" class="indexterm"/>object to rejected.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.rejectWith(context, [args])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the <a id="id1514" class="indexterm"/>state of the object to rejected while making the keyword <code class="literal">this</code> refer to <code class="literal">context</code> within callbacks.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.notify([args])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1515" class="indexterm"/>any progress callbacks.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.notifyWith(context, [args])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1516" class="indexterm"/>any progress callbacks while making the keyword <code class="literal">this</code> refer to <code class="literal">context</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.promise([target])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns a <a id="id1517" class="indexterm"/>promise <a id="id1518" class="indexterm"/>object corresponding to this deferred object.</p>
</td></tr></tbody></table></div></div><div class="section" title="Methods of promise objects"><div class="titlepage"><div><div><h2 class="title"><a id="ch13lvl2sec197"/>Methods of promise objects</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Method</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.done(callback)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1519" class="indexterm"/>
<a id="id1520" class="indexterm"/>
<code class="literal">callback</code> when the <a id="id1521" class="indexterm"/>object is resolved.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.fail(callback)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1522" class="indexterm"/>
<code class="literal">callback</code> when the object is rejected.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.always(callback)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1523" class="indexterm"/>
<code class="literal">callback</code> when the object is resolved or rejected.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.then(doneCallbacks, failCallbacks)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1524" class="indexterm"/>
<code class="literal">doneCallbacks</code> when the object is resolved, or <code class="literal">failCallbacks</code> when the object is rejected.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.progress(callback)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Executes <a id="id1525" class="indexterm"/>
<code class="literal">callback</code> each time the object receives a progress notification.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.isRejected()</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns <a id="id1526" class="indexterm"/>
<code class="literal">true</code> if the object has been rejected.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.isResolved()</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns <code class="literal">true</code> if <a id="id1527" class="indexterm"/>the object has been resolved.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.state()</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns <code class="literal">'pending'</code>, <code class="literal">'resolved'</code>, or <code class="literal">'rejected'</code> depending <a id="id1528" class="indexterm"/>on the current state.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">.pipe([doneFilter], [failFilter])</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Returns a <a id="id1529" class="indexterm"/>new promise object which is resolved when the original promise is, optionally after filtering the object's status through a function.</p>
</td></tr></tbody></table></div></div></div></body></html>
